<div class="page-header">
  <div class="container-fluid">
    <div class="page-header-content py-5">
      <h1 class="page-header-title">
        <div class="page-header-icon"><span class="mdi mdi-pistol"></span></div>
        <span>Weapons</span>
      </h1>
      <div class="page-header-subtitle">All of the weapons found in the world</div>
    </div>
  </div>
</div>

<div class="container-fluid mt-4">
  <div class="row">
    <div class="col-12">

      <% @weapons.each do |weapon| %>
      
        <div class="card mb-3">
          <div class="row no-gutters" style="background: #0d0d0d;">
            <div class="col-3 align-self-center">
              <%= image_tag "weapons/#{weapon.slug.parameterize}.png", class: "w-100" %>
            </div>
            <div class="col-9" style="background: #ffffff;">
              <div class="card-body pb-3">
                <h5 class="card-title"><%= weapon.name %> - <small class="text-muted"><%= weapon.weapon_type %></small></h5>
                
                <div class="row">
                  <div class="col-6">
                    <% unless weapon.weapon_type == "Attachment" || weapon.weapon_type == "Melee" %>
                      <p class="card-text mb-1">
                        <b>Ammo:</b> 
                        <% weapon.ammo_uses.each do |ammo| %>
                          <%= ammo.ammo.name %>
                        <% end %>
                      </p>
                      <p class="card-text mb-1"><b>Mag Size:</b> <%= weapon.mag %></p>
                    <% end %>
                  </div>

                  <div class="col-6">
                    <p class="card-text mb-1"><b>Buy:</b> <%= number_to_currency(weapon.buy, precision: 0) %></p>
                    <p class="card-text mb-1"><b>Sell:</b> <%= number_to_currency(weapon.sell, precision: 0) %></p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

      <% end %>

    </div>
  </div>
</div>